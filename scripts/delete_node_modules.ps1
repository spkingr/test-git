<#
.SYNOPSIS
Delete all the node_module folder in directory

.DESCRIPTION
Search and delete node_module folders
#>
param(
    $ParentDir = 'D:\Documents\Work\Zhuojing\课程\HTML',
    $MaxDepth = 3
)

Set-Location $ParentDir
Write-Host -ForegroundColor Green "Begin... $ParentDir"

Get-ChildItem -Path $ParentDir -Recurse -Attributes Directory -Depth $MaxDepth | foreach {
    if($_.BaseName -eq 'node_modules') {
        Write-Host 'Deleting ' $_.FullName
        Remove-Item $_.FullName -Recurse -Confirm
    }
}
